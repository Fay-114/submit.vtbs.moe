{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/vdb/test/group.js","webpack:///./src/worker/warp.js","webpack:///./src/components/diff/issue.vue?c328","webpack:///./src/vdb/test/id.js","webpack:///./src/vdb/test/index.js","webpack:///./src/worker/worker.js?5624","webpack:///./src/App.vue?e1fc","webpack:///./src/components/login/w.js","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?5a4e","webpack:///./src/components/list.vue?66a5","webpack:///./src/worker/index.js","webpack:///./src/components/list/vtb.vue?2a4b","webpack:///src/components/list/vtb.vue","webpack:///./src/components/list/vtb.vue?931e","webpack:///./src/components/list/vtb.vue","webpack:///src/components/list.vue","webpack:///./src/components/list.vue?c2a2","webpack:///./src/components/list.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue","webpack:///./src/views/Submit.vue?1649","webpack:///./src/components/diff.vue?80d7","webpack:///./src/components/diff/change.vue?76c1","webpack:///src/components/diff/change.vue","webpack:///./src/components/diff/change.vue?a99e","webpack:///./src/components/diff/change.vue","webpack:///src/components/diff.vue","webpack:///./src/components/diff.vue?921c","webpack:///./src/components/diff.vue","webpack:///./src/components/diff/serialize.vue?5f97","webpack:///src/components/diff/serialize.vue","webpack:///./src/components/diff/serialize.vue?4185","webpack:///./src/components/diff/serialize.vue","webpack:///./src/components/diff/issue.vue?6619","webpack:///src/components/diff/issue.vue","webpack:///./src/components/diff/issue.vue?94ce","webpack:///./src/components/diff/issue.vue","webpack:///./src/components/diff/test.vue?a0de","webpack:///src/components/diff/test.vue","webpack:///./src/components/diff/test.vue?2ac5","webpack:///./src/components/diff/test.vue","webpack:///src/views/Submit.vue","webpack:///./src/views/Submit.vue?7f1f","webpack:///./src/views/Submit.vue","webpack:///./src/views/Edit.vue?fca8","webpack:///src/views/Edit.vue","webpack:///./src/views/Edit.vue?b4d2","webpack:///./src/views/Edit.vue","webpack:///./src/views/Workspace.vue?b7f4","webpack:///src/views/Workspace.vue","webpack:///./src/views/Workspace.vue?215f","webpack:///./src/views/Workspace.vue","webpack:///./src/views/Login.vue?b9a9","webpack:///./src/components/login/status.vue?f369","webpack:///src/components/login/status.vue","webpack:///./src/components/login/status.vue?e6c3","webpack:///./src/components/login/status.vue","webpack:///./src/components/login/code.vue?c82d","webpack:///./src/components/login/login.vue?a2f4","webpack:///src/components/login/login.vue","webpack:///./src/components/login/login.vue?5fe5","webpack:///./src/components/login/login.vue","webpack:///src/components/login/code.vue","webpack:///./src/components/login/code.vue?70df","webpack:///./src/components/login/code.vue","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?09c2","webpack:///./src/views/Login.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/vdb/test/filename-space.js","webpack:///./src/components/list/vtb.vue?8768","webpack:///./src/components/diff/change.vue?bbb0","webpack:///./src/vdb/parse.js","webpack:///./src/vdb/test/repeat.js","webpack:///./src/vdb/test/name.js","webpack:///./src/views/Edit.vue?5b32","webpack:///./src/components/list.vue?8cad","webpack:///./src/vdb/test/filename.js","webpack:///./src/vdb/test/platform.js","webpack:///./src/vdb/test/account.js","webpack:///./src/components/diff/serialize.vue?e88c","webpack:///./src/App.vue?f4f6","webpack:///./src/worker/worker.js","webpack:///./src/views/Workspace.vue?925a"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","vtbs","errors","table","fromEntries","map","vtb","uuid","forEach","group","default","warpWorker","isWorker","self","warps","resolveMap","Map","runningMap","randomString","String","Math","random","eventEmitter","EventEmitter","worker","Error","addEventListener","delete","emit","entries","fNum","params","postMessage","warp","f","warpF","Promise","resolve","set","displayName","registerName","flatMap","accounts","id","filter","Boolean","require","repeat","platform","account","filename","filenameSpace","tests","vdb","files","Worker","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_m","_v","_s","diff","workspaceList","currentState","_e","_l","ref","run","style","bottom","staticRenderFns","IS_LOCAL","location","hostname","CLIENT_ID","CLIENT_SECRET","getGithubLoginUrl","url","URL","searchParams","toString","getToken","code","fetch","method","headers","Accept","body","JSON","stringify","client_secret","client_id","response","json","token","access_token","getUser","Authorization","login","email","avatar","avatar_url","html_url","saveToken","localStorage","submitToken","removeItem","readToken","mounted","loadWorkspaceList","fsLoaded","loadFs","updateToken","computed","methods","component","class","searching","directives","rawName","expression","domProps","on","$event","target","composing","searchInput","height","totalHeight","file","ref$1","top","refInFor","displayFileList","fList","type","remove","onceCache","has","wait","then","props","currentFile","undefined","watch","immediate","renderTop","lastIntersect","renderedList","Array","RENDER_LENGTH","fill","observer","intersectionObserver","searchResult","created","IntersectionObserver","render","fileList","search","newVal","oldVal","start","end","max","beforeDestroy","disconnect","components","detectors","num","status","reset","cmd","content","diffLength","commitTitle","input","issue","username","isArray","githubCommit","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","urlLoading","submit","commit","setCommit","title","setTitle","command","updateIssue","handler","error","loading","editing","$set","msg","names","deleteName","addName","$$selectedVal","options","selected","val","_value","multiple","bot","urls","startsWith","platformName","deleteAccount","addAccount","saving","fileName","save","backup","blank","deep","saveReset","saved","failed","checkFileName","checkName","split","some","parse","groupAuto","platforms","meta","linkSyntax","lang","flat","endsWith","replace","workspaceCount","indexOf","_k","keyCode","load","workspaceListLoaded","extra","logout","mapState","fail","Vue","use","VueRouter","routes","path","Home","Submit","Edit","Workspace","Login","route","query","router","base","process","Vuex","namespaced","state","getters","mutations","setToken","setUsername","setName","setEmail","setExtra","newValue","actions","catch","Store","loadedFs","updateFileList","newList","updateMeta","updateDiff","updateWorkspaceList","list","loadFileList","dispatch","getList","getMeta","loadDiff","config","productionTip","store","h","App","$mount","_","reverse","join","uuidv5","v5","UUID_NAMESPACE","keepFilename","parsed","ids","neverSubmit","knowAccounts","reportError","txt","values","reporter","neverSubmitList","includes","w","no","char","Number","isNaN","fs","newFs","newFsLowerCaseFileMap","workspace","level","newFsJsonSearchMap","encodeBase64","string","Buffer","from","fetchJson","cache","updateNewFsJsonSearchMap","keys","toLowerCase","createKeyStream","saveWorkspace","put","loadWorkspace","deleteWorkspace","del","getFs","getGroupList","searchList","every","getVtbJson","deleteVtb","saveVtb","fileLowerCase","resetVtb","vdbParse","test","vdbTest","diffFile","Set","generateLink","linkFormat","describeDiff","change","links","link","detail","sort","serializeDiff","extraCommands","encodeDiff","line","cmds","makeIssue","description","submitDiff","console","log"],"mappings":"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","file":"js/app.e641b4e6.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = ({ vtbs }) => {\n  const errors = []\n  const table = Object.fromEntries(vtbs.map(vtb => [vtb.uuid, vtb]))\n  vtbs.forEach(({ group, name }) => {\n    if (group && !table[group]) {\n      errors.push(`社团不存在, no group ${name[name.default]}`)\n    }\n  })\n  return errors\n}\n","import EventEmitter from 'events'\n\nconst isWorker = !self.window\n\nlet warpWorker\nconst warps = []\nconst resolveMap = new Map()\nconst runningMap = new Map()\n\nconst randomString = () => String(Math.random())\n\nexport const eventEmitter = new EventEmitter()\n\nexport const apply = worker => {\n  if (!warpWorker) {\n    warpWorker = worker\n    worker.addEventListener('message', ({ data: { key, data } }) => {\n      resolveMap.get(key)(data)\n      resolveMap.delete(key)\n      runningMap.delete(key)\n      eventEmitter.emit('running', [...runningMap.entries()])\n    })\n  } else {\n    throw new Error('Worker??')\n  }\n}\n\nif (isWorker) {\n  self.addEventListener('message', async ({ data: { fNum, params, key } }) => {\n    self.postMessage({ key, data: await warps[fNum](...params) })\n  })\n}\n\nexport const warp = f => {\n  const fNum = warps.length\n  warps.push(f)\n  const warpF = (...params) => {\n    if (warpWorker) {\n      return new Promise(resolve => {\n        if (warpWorker) {\n          const key = randomString()\n          resolveMap.set(key, resolve)\n          runningMap.set(key, f.displayName)\n          eventEmitter.emit('c', [...runningMap.entries()])\n          warpWorker.postMessage({ fNum, params, key })\n        }\n      })\n    } else {\n      return f(...params)\n    }\n  }\n  warpF.registerName = name => {\n    f.displayName = name\n  }\n  return warpF\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./issue.vue?vue&type=style&index=0&id=fdc9c2a0&scoped=true&lang=css&\"","module.exports = ({ vtbs }) => vtbs\n  .flatMap(({ accounts }) => accounts)\n  .map(({ id }) => typeof id === 'string' ? false : `id is not string, ${id}`)\n  .filter(Boolean)\n","const group = require('./group')\nconst repeat = require('./repeat')\nconst platform = require('./platform')\nconst id = require('./id')\nconst account = require('./account')\nconst filename = require('./filename')\nconst filenameSpace = require('./filename-space')\nconst name = require('./name')\n\nconst tests = [group, repeat, id, platform, account, filename, filenameSpace, name]\n\nmodule.exports = (vdb, files) => tests.flatMap(f => f(vdb, files))\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"0176b7626c3203802f25.worker.js\");\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',[_c('section',{staticClass:\"hero is-success is-fullheight is-bold\"},[_vm._m(0),_c('div',{staticClass:\"hero-foot\"},[(_vm.fsLoaded)?_c('nav',{staticClass:\"tabs\"},[_c('div',{staticClass:\"container\"},[_c('ul',[_c('router-link',{staticClass:\"link\",attrs:{\"tag\":\"li\",\"to\":\"/\"}},[_c('a',{staticClass:\"aLink\"},[_vm._v(\"Panel\")])]),_c('router-link',{staticClass:\"link\",attrs:{\"tag\":\"li\",\"to\":\"/edit\"}},[_c('a',{staticClass:\"aLink\"},[_vm._v(\"新建\")])]),_c('router-link',{staticClass:\"link\",attrs:{\"tag\":\"li\",\"to\":\"/submit\"}},[_c('a',{staticClass:\"aLink\"},[_vm._v(\"提交!(\"+_vm._s(_vm.diff.length)+\")\")])]),_c('router-link',{staticClass:\"link\",attrs:{\"tag\":\"li\",\"to\":\"/workspace\"}},[_c('a',{staticClass:\"aLink\"},[_vm._v(\"工作区存档(\"+_vm._s(_vm.workspaceList.length)+\")\")])]),_c('router-link',{staticClass:\"link\",attrs:{\"tag\":\"li\",\"to\":\"/login\"}},[_c('a',{staticClass:\"aLink\"},[_vm._v(\"登录\"+_vm._s(_vm.currentState))])])],1)])]):_c('div',{staticClass:\"container\"},[_vm._v(\" Loading... \")])])]),(_vm.fsLoaded)?_c('router-view'):_vm._e()],1),_c('transition-group',{attrs:{\"name\":\"worker-list\"}},_vm._l((_vm.running),function(ref,i){\nvar key = ref[0];\nvar run = ref[1];\nreturn _c('span',{key:(\"worker_\" + key),staticClass:\"tag is-rounded running\",style:({ bottom: i * 30 + 'px' })},[_vm._v(_vm._s(run))])}),0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hero-body\"},[_c('div',{staticClass:\"container\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\" submit.vtbs.moe \")]),_c('h2',{staticClass:\"subtitle\"},[_vm._v(\" 你好呀 \")])])])}]\n\nexport { render, staticRenderFns }","const IS_LOCAL = location.hostname === 'localhost'\n\nconst CLIENT_ID = IS_LOCAL ? '23b965c70f0005df2d72' : '0dcef2f6e6221b70214f'\nconst CLIENT_SECRET = IS_LOCAL ? '505afa12c4fda8164fb56e9f2b607f3e62f62de0' : 'e1d64c4471a750145616d38b22b063a380cd9a3a'\n\nexport const getGithubLoginUrl = () => {\n  const url = new URL('https://github.com/login/oauth/authorize')\n  url.searchParams.set('client_id', CLIENT_ID)\n  if (IS_LOCAL) {\n    url.searchParams.set('redirect_uri', 'http://localhost:8080/login')\n  }\n  url.searchParams.set('scope', 'public_repo')\n  return url.toString()\n}\n\nexport const getToken = async code => {\n  const response = await fetch('https://cors.bridged.cc/https://github.com/login/oauth/access_token', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Accept: 'application/json'\n    },\n    body: JSON.stringify({ code, client_secret: CLIENT_SECRET, client_id: CLIENT_ID })\n  })\n  const { access_token: token } = await response.json()\n  return token\n}\n\nexport const getUser = async token => {\n  const response = await fetch('https://api.github.com/user', { headers: { Authorization: `token ${token}` } })\n  const { login, name, email, avatar_url: avatar, html_url: url } = await response.json()\n  return { login, name, email, avatar, url }\n}\n\nexport const saveToken = token => {\n  if (token) {\n    localStorage.submitToken = token\n  } else {\n    localStorage.removeItem('submitToken')\n  }\n}\n\nexport const readToken = () => localStorage.submitToken\n","<template>\n<div id=\"app\">\n  <div>\n    <section class=\"hero is-success is-fullheight is-bold\">\n      <div class=\"hero-body\">\n        <div class=\"container\">\n          <h1 class=\"title\">\n            submit.vtbs.moe\n          </h1>\n          <h2 class=\"subtitle\">\n            你好呀\n          </h2>\n        </div>\n      </div>\n      <div class=\"hero-foot\">\n        <nav class=\"tabs\" v-if=\"fsLoaded\">\n          <div class=\"container\">\n            <ul>\n              <router-link tag=\"li\" to=\"/\" class=\"link\"><a class=\"aLink\">Panel</a></router-link>\n              <router-link tag=\"li\" to=\"/edit\" class=\"link\"><a class=\"aLink\">新建</a></router-link>\n              <router-link tag=\"li\" to=\"/submit\" class=\"link\"><a class=\"aLink\">提交!({{diff.length}})</a></router-link>\n              <router-link tag=\"li\" to=\"/workspace\" class=\"link\"><a class=\"aLink\">工作区存档({{workspaceList.length}})</a></router-link>\n              <router-link tag=\"li\" to=\"/login\" class=\"link\"><a class=\"aLink\">登录{{currentState}}</a></router-link>\n            </ul>\n          </div>\n        </nav>\n        <div v-else class=\"container\">\n          Loading...\n        </div>\n      </div>\n    </section>\n    <router-view v-if=\"fsLoaded\"></router-view>\n  </div>\n  <transition-group name=\"worker-list\">\n    <span class=\"tag is-rounded running\" v-for=\"([key, run], i) in running\" :key=\"`worker_${key}`\" :style=\"{ bottom: i * 30 + 'px' }\">{{run}}</span>\n  </transition-group>\n</div>\n</template>\n\n<script>\nimport { mapState, mapActions, createNamespacedHelpers } from 'vuex'\n\nimport { eventEmitter } from '@/worker/warp'\n\nimport { readToken } from '@/components/login/w'\n\nconst { mapGetters: mapLoginGetters, mapActions: mapLoginActions } = createNamespacedHelpers('login')\n\nexport default {\n  data() {\n    return { running: [] }\n  },\n  mounted() {\n    this.loadWorkspaceList()\n    eventEmitter.on('running', list => {\n      this.running = list\n    })\n    if (!this.fsLoaded) {\n      this.loadFs()\n    }\n    const token = readToken()\n    if (token) {\n      this.updateToken(token)\n    }\n  },\n  computed: {\n    ...mapState(['fsLoaded', 'workspaceList', 'diff']),\n    ...mapLoginGetters(['currentState'])\n  },\n  methods: {\n    ...mapActions(['loadFs', 'loadWorkspaceList']),\n    ...mapLoginActions(['updateToken'])\n  }\n}\n</script>\n\n<style scoped>\n.running {\n  position: fixed;\n  right: 10px;\n  transition: all 0.3s;\n}\n\n.worker-list-enter {\n  opacity: 0;\n  transform: translateY(-100px);\n}\n\n.worker-list-leave-to {\n  opacity: 0;\n  transform: translateY(40px);\n}\n\n.link {\n  border-color: rgba(0, 0, 0, 0);\n  border-radius: 5px;\n  border-style: solid;\n  border-width: 1px;\n  margin-bottom: 4px;\n}\n\n.router-link-exact-active {\n  border-color: rgba(0, 0, 0, 0.2);\n}\n\n.aLink {\n  padding: 8px 16px 8px 16px;\n  border: 0;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=5a852a3c&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=5a852a3c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a852a3c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('list')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticClass:\"index\"},[_c('div',{staticClass:\"control search\",class:{ 'is-loading' : _vm.searching}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchInput),expression:\"searchInput\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"搜索\"},domProps:{\"value\":(_vm.searchInput)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchInput=$event.target.value}}})]),_c('div',{staticClass:\"indexContainer\",style:({ height: _vm.totalHeight + 'px' })},[_vm._l((_vm.renderedList),function(ref,n){\nvar i = ref.i; if ( i === void 0 ) i = 0;\nvar file = ref.file;\nreturn _c('vtb',{key:(\"vtb_\" + n),attrs:{\"i\":i,\"file\":file,\"n\":n}})}),_vm._l((_vm.detectors),function(ref$1){\nvar height = ref$1.height;\nvar top = ref$1.top;\nvar i = ref$1.i;\nvar ref = ref$1.ref;\nreturn _c('div',{key:ref,ref:'detectors',refInFor:true,staticClass:\"detectors\",style:({ height:(height + \"px\"), top:(top + \"px\") }),attrs:{\"i\":i}})})],2),(!_vm.displayFileList.length)?[_c('br'),_c('hr'),_c('p',[_vm._v(\"无结果...\")])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { apply } from './warp'\n// eslint-disable-next-line import/no-webpack-loader-syntax\nimport Worker from 'worker-loader!./worker'\nimport * as fList from './worker'\n\napply(new Worker())\n\nObject.entries(fList).map(([name, f]) => f.registerName(name))\n\nexport * from './worker'\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vtb\",style:({ top: _vm.i * _vm.height + 'px' }),attrs:{\"n\":_vm.n}},[_c('br'),_c('hr'),_c('div',{staticClass:\"columns is-mobile\"},[_c('div',{staticClass:\"column name\"},[_c('h1',{staticClass:\"title is-4 name\"},[_vm._v(_vm._s(_vm.name))]),_c('h2',{staticClass:\"subtitle is-4 name\"},[_vm._v(_vm._s(_vm.file))])]),_c('div',{staticClass:\"is-divider-vertical\"}),_c('div',{staticClass:\"column\"},[_c('span',{staticClass:\"tag is-light is-medium\",class:{ 'is-link': _vm.type === 'group', 'is-primary': _vm.type === 'vtuber' }},[_vm._v(_vm._s(_vm.type))])]),_c('div',{staticClass:\"is-divider-vertical\"}),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"buttons\"},[_c('router-link',{staticClass:\"button is-info is-small\",attrs:{\"tag\":\"button\",\"to\":(\"edit/\" + _vm.file)}},[_vm._v(\"编辑\")]),_c('button',{staticClass:\"button is-danger is-small\",on:{\"click\":_vm.remove}},[_vm._v(\"删除\")])],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"vtb\" :style=\"{ top: i * height + 'px' }\" :n=\"n\">\n  <br>\n  <hr>\n  <div class=\"columns is-mobile\">\n    <div class=\"column name\">\n      <h1 class=\"title is-4 name\">{{name}}</h1>\n      <h2 class=\"subtitle is-4 name\">{{file}}</h2>\n    </div>\n    <div class=\"is-divider-vertical\"></div>\n    <div class=\"column\">\n      <span class=\"tag is-light is-medium\" :class=\"{ 'is-link': type === 'group', 'is-primary': type === 'vtuber' }\">{{type}}</span>\n    </div>\n    <div class=\"is-divider-vertical\"></div>\n    <div class=\"column\">\n      <div class=\"buttons\">\n        <router-link tag=\"button\" class=\"button is-info is-small\" :to=\"`edit/${file}`\">编辑</router-link>\n        <button class=\"button is-danger is-small\" @click=\"remove\">删除</button>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport EventEmitter from 'events'\nimport { mapActions } from 'vuex'\n\nimport { getVtbJson, deleteVtb } from '@/worker'\n\nexport const height = 110\n\nexport const eventEmitter = new EventEmitter()\n\nconst onceCache = new Map()\n\nconst once = n => {\n  if (!onceCache.has(n)) {\n    const wait = new Promise(resolve => eventEmitter.once(n, resolve))\n    onceCache.set(n, wait)\n    wait.then(() => {\n      onceCache.delete(n)\n    })\n  }\n  return onceCache.get(n)\n}\n\nexport default {\n  props: ['i', 'file', 'n'],\n  data() {\n    return {\n      height,\n      json: {},\n      currentFile: undefined\n    }\n  },\n  computed: {\n    name() {\n      return [...Object.values(this.json.name || {}), 'loading...'].flat()[0]\n    },\n    type() {\n      return this.json.type || 'vtuber'\n    }\n  },\n  methods: {\n    ...mapActions(['loadFileList']),\n    async remove() {\n      await deleteVtb(this.file)\n      await this.loadFileList()\n    }\n  },\n  watch: {\n    file: {\n      immediate: true,\n      async handler(newFile, oldFile) {\n        if (newFile !== this.currentFile) {\n          this.json = {}\n        }\n        await once(String(this.n))\n        if (newFile === this.file) {\n          if (newFile && newFile !== oldFile) {\n            const json = await getVtbJson(newFile)\n            if (newFile === this.file) {\n              this.json = json\n              this.currentFile = newFile\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.vtb {\n  position: absolute;\n  width: 100%;\n  height: 26px;\n}\n\n.name {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vtb.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vtb.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./vtb.vue?vue&type=template&id=1e94bd88&scoped=true&\"\nimport script from \"./vtb.vue?vue&type=script&lang=js&\"\nexport * from \"./vtb.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vtb.vue?vue&type=style&index=0&id=1e94bd88&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e94bd88\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"index\" ref=\"container\">\n  <div class=\"control search\" :class=\"{ 'is-loading' : searching}\">\n    <input class=\"input\" type=\"text\" placeholder=\"搜索\" v-model=\"searchInput\">\n  </div>\n  <div class=\"indexContainer\" :style=\"{ height: totalHeight + 'px' }\">\n    <vtb v-for=\"({i=0,file},n) in renderedList\" :key=\"`vtb_${n}`\" :i=\"i\" :file=\"file\" :n=\"n\"></vtb>\n    <div class=\"detectors\" v-for=\"({height,top,i,ref}) in detectors\" :key=\"ref\" :i=\"i\" :ref=\"'detectors'\" :style=\"{ height:`${height}px`, top:`${top}px` }\"></div>\n  </div>\n  <template v-if=\"!displayFileList.length\">\n    <br>\n    <hr>\n    <p>无结果...</p>\n  </template>\n</div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\nimport { searchList } from '@/worker'\n\nimport vtb, { height, eventEmitter } from './list/vtb'\n\nconst RENDER_LENGTH = 150\n\nlet lastIntersectN = 0\n\nexport default {\n  data() {\n    return {\n      height,\n      renderTop: 0,\n      lastIntersect: 0,\n      renderedList: Array(RENDER_LENGTH).fill({}),\n      observer: undefined,\n      intersectionObserver: undefined,\n      searchInput: '',\n      searchResult: undefined,\n      searching: false\n    }\n  },\n  created() {\n    this.observer = new IntersectionObserver(entries => entries.forEach(({ isIntersecting, target }) => {\n      if (isIntersecting) {\n        const n = target.getAttribute('n')\n        eventEmitter.emit(n)\n        lastIntersectN = Number(n)\n      }\n    }), { root: this.$refs.container, thresholds: [0], rootMargin: '80px 0px 20px 0px' })\n    this.intersectionObserver = new IntersectionObserver(entries => entries.forEach(({ isIntersecting, target }) => {\n      if (isIntersecting) {\n        const i = Number(target.getAttribute('i'))\n        this.lastIntersect = i\n      }\n    }), { root: this.$refs.container, thresholds: [0] })\n  },\n  async mounted() {\n    await this.loadFileList()\n    await this.$nextTick()\n    const vtbs = document.getElementsByClassName('vtb')\n    Array(vtbs.length).fill().map((_, i) => vtbs[i]).forEach(vtb => this.observer.observe(vtb))\n  },\n  methods: {\n    render(start, length) {\n      Array(length).fill()\n        .map((_, i) => i + start)\n        .forEach(i => {\n          const domIndex = i % RENDER_LENGTH\n          const file = this.displayFileList[i]\n          if (file) {\n            this.renderedList[domIndex] = { i, file }\n          } else {\n            this.renderedList[domIndex] = { i: -10 }\n          }\n        })\n      this.renderedList = [...this.renderedList]\n    },\n    async search(string) {\n      const keys = string.toLowerCase().split(' ').filter(Boolean)\n      if (keys.length) {\n        this.searching = true\n        const result = await searchList(keys)\n        if (string === this.searchInput) {\n          this.searchResult = result\n          this.searching = false\n        }\n      } else {\n        this.searching = false\n        this.searchResult = undefined\n      }\n    },\n    ...mapActions(['loadFileList'])\n  },\n  watch: {\n    async detectors(detectors, oldDetectors = []) {\n      await this.$nextTick()\n      if (this.$refs.detectors) {\n        this.$refs.detectors.forEach(detector => this.intersectionObserver.observe(detector))\n      }\n    },\n    async searchInput(string) {\n      this.search(string)\n    },\n    fileList() {\n      if (this.searchInput) {\n        this.search(this.searchInput)\n      }\n    },\n    async displayFileList() {\n      this.render(this.renderTop, RENDER_LENGTH)\n      await this.$nextTick()\n      Array(15)\n        .fill(Math.max(0, lastIntersectN + RENDER_LENGTH - 9))\n        .map((base, i) => (i + base) % RENDER_LENGTH)\n        .map(String)\n        .forEach(n => eventEmitter.emit(n))\n    },\n    renderTop(newVal, oldVal) {\n      if (newVal > oldVal) {\n        const start = Math.max(newVal, oldVal + RENDER_LENGTH)\n        const end = Math.min(newVal + RENDER_LENGTH, this.displayFileList.length)\n        if (start < end) {\n          const length = end - start\n          this.render(start, length)\n        }\n      } else if (oldVal > newVal) {\n        const end = Math.min(oldVal, newVal + RENDER_LENGTH)\n        const length = end - newVal\n        this.render(newVal, length)\n      }\n    },\n    lastIntersect() {\n      const { lastIntersect } = this\n      this.renderTop = Math.max(0, lastIntersect - RENDER_LENGTH / 3)\n    }\n  },\n  beforeDestroy() {\n    this.observer.disconnect()\n    this.intersectionObserver.disconnect()\n  },\n  components: {\n    vtb\n  },\n  computed: {\n    ...mapState(['fileList']),\n    displayFileList() {\n      return this.searchResult || this.fileList\n    },\n    totalHeight() {\n      return this.displayFileList.length * this.height\n    },\n    detectors() {\n      const num = Math.round(this.displayFileList.length / RENDER_LENGTH * 3) + 1\n      const height = this.totalHeight / num\n      return Array(num).fill().map((_, i) => ({ ref: `detector_${i}`, height, top: i * height, i: Math.round(this.displayFileList.length / num * i) }))\n    }\n  }\n}\n</script>\n\n<style scoped>\n.index {\n  height: calc(100vh - 50px);\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.indexContainer {\n  position: relative;\n  top: -25px;\n}\n\n.search {\n  position: relative;\n  z-index: 100;\n  top: 8px;\n}\n\n.detectors {\n  position: absolute;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=28dbbbd7&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=28dbbbd7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28dbbbd7\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"container\">\n  <list></list>\n</div>\n</template>\n\n<script>\nimport list from '@/components/list'\n\nexport default {\n  components: { list }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=56683f06&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('br'),_c('diff'),_c('hr'),_c('test'),_c('hr'),_c('serialize'),_c('hr'),_c('issue'),_c('br')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"title\"},[_vm._v(\"改变\")]),_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"Difference (\"+_vm._s(_vm.diff.length)+\")\")]),_vm._l((_vm.diff),function(ref){\nvar file = ref[0];\nvar status = ref[1];\nreturn _c('change',{key:(\"diff_\" + file),attrs:{\"file\":file,\"status\":status}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{class:{ 'has-text-danger': _vm.status === 'remove', 'has-text-success': _vm.status === 'add', 'has-text-warning': _vm.status === 'update'}},[_vm._v(_vm._s(_vm.file)+\" \"),_c('button',{staticClass:\"button is-small is-text\",on:{\"click\":_vm.reset}},[_vm._v(\"撤销\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <p :class=\"{ 'has-text-danger': status === 'remove', 'has-text-success': status === 'add', 'has-text-warning': status === 'update'}\">{{file}} <button class=\"button is-small is-text\" @click=\"reset\">撤销</button></p>\n</div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\n\nimport { resetVtb } from '@/worker'\n\nexport default {\n  props: ['status', 'file'],\n  methods: {\n    ...mapActions(['loadFileList']),\n    async reset() {\n      await resetVtb(this.file)\n      await this.loadFileList()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.red {\n  color: red;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./change.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./change.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./change.vue?vue&type=template&id=005d5cfb&scoped=true&\"\nimport script from \"./change.vue?vue&type=script&lang=js&\"\nexport * from \"./change.vue?vue&type=script&lang=js&\"\nimport style0 from \"./change.vue?vue&type=style&index=0&id=005d5cfb&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"005d5cfb\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div>\n  <h1 class=\"title\">改变</h1>\n  <h2 class=\"subtitle\">Difference ({{diff.length}})</h2>\n  <change v-for=\"[file, status] in diff\" :key=\"`diff_${file}`\" :file=\"file\" :status=\"status\"></change>\n</div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nimport change from './diff/change'\n\nexport default {\n  computed: mapState(['diff']),\n  components: { change }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./diff.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./diff.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./diff.vue?vue&type=template&id=46f39771&\"\nimport script from \"./diff.vue?vue&type=script&lang=js&\"\nexport * from \"./diff.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"title\"},[_vm._v(\"序列化\")]),_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"Serialize\")]),_c('div',{staticClass:\"table-container\"},[_c('table',{staticClass:\"table is-striped is-hoverable is-fullwidth\"},[_vm._m(0),_c('tbody',_vm._l((_vm.code),function(ref){\nvar cmd = ref[0];\nvar file = ref[1];\nvar content = ref[2]; if ( content === void 0 ) content = '';\nreturn _c('tr',{key:(\"s_\" + file)},[_c('td',[_vm._v(_vm._s(cmd))]),_c('td',[_vm._v(_vm._s(file))]),_c('td',[(!!content)?_c('code',[_vm._v(_vm._s(content))]):_vm._e()])])}),0)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Command\")]),_c('th',[_vm._v(\"File\")]),_c('th',[_vm._v(\"content\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <h1 class=\"title\">序列化</h1>\n  <h2 class=\"subtitle\">Serialize</h2>\n  <div class=\"table-container\">\n    <table class=\"table is-striped is-hoverable is-fullwidth\">\n      <thead>\n        <tr>\n          <th>Command</th>\n          <th>File</th>\n          <th>content</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"[cmd, file, content = ''] in code\" :key=\"`s_${file}`\">\n          <td>{{cmd}}</td>\n          <td>{{file}}</td>\n          <td><code v-if=\"!!content\">{{content}}</code></td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n</template>\n\n<script>\nimport { mapState, createNamespacedHelpers } from 'vuex'\n\nimport { serializeDiff } from '@/worker'\n\nconst { mapGetters } = createNamespacedHelpers('login')\n\nexport default {\n  data() {\n    return {\n      code: [\n        ['loading...']\n      ]\n    }\n  },\n  watch: {\n    async command() {\n      this.code = await serializeDiff(this.command)\n    },\n    diff: {\n      immediate: true,\n      async handler() {\n        this.code = await serializeDiff(this.command)\n      }\n    }\n  },\n  computed: {\n    ...mapState(['diff']),\n    ...mapGetters(['command'])\n  }\n}\n</script>\n\n<style scoped>\ncode {\n  display: block;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./serialize.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./serialize.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./serialize.vue?vue&type=template&id=ad7d5b94&scoped=true&\"\nimport script from \"./serialize.vue?vue&type=script&lang=js&\"\nexport * from \"./serialize.vue?vue&type=script&lang=js&\"\nimport style0 from \"./serialize.vue?vue&type=style&index=0&id=ad7d5b94&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ad7d5b94\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"title\"},[_vm._v(\"发布\")]),_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"Issue\")]),(_vm.diffLength && _vm.diffLength > 0)?[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.commitTitle),expression:\"commitTitle\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"标题\"},domProps:{\"value\":(_vm.commitTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.commitTitle=$event.target.value}}}),_c('br'),_c('br'),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input),expression:\"input\"}],staticClass:\"textarea\",attrs:{\"placeholder\":\"附加信息\"},domProps:{\"value\":(_vm.input)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.input=$event.target.value}}}),_c('br'),_c('code',[_vm._v(_vm._s(_vm.issue))]),_c('br'),_c('label',{staticClass:\"checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.githubCommit),expression:\"githubCommit\"}],attrs:{\"type\":\"checkbox\",\"disabled\":!_vm.username},domProps:{\"checked\":Array.isArray(_vm.githubCommit)?_vm._i(_vm.githubCommit,null)>-1:(_vm.githubCommit)},on:{\"change\":function($event){var $$a=_vm.githubCommit,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.githubCommit=$$a.concat([$$v]))}else{$$i>-1&&(_vm.githubCommit=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.githubCommit=$$c}}}}),_vm._v(\" 以我的GitHub身份Commit \"),(!_vm.username)?[_vm._v(\"(请登陆)\")]:_vm._e()],2),_c('hr'),(!_vm.url)?_c('button',{staticClass:\"button is-link is-light\",class:{ 'is-loading': _vm.urlLoading },on:{\"click\":_vm.submit}},[_vm._v(\"发布\")]):_vm._e(),(_vm.url)?_c('a',{attrs:{\"href\":_vm.url,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.url))]):_vm._e()]:_vm._e(),(_vm.diffLength === undefined)?_c('span',[_vm._v(\" loading... \")]):_vm._e(),(_vm.diffLength === 0)?_c('span',[_vm._v(\" 无修改 \")]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <h1 class=\"title\">发布</h1>\n  <h2 class=\"subtitle\">Issue</h2>\n  <template v-if=\"diffLength && diffLength > 0\">\n    <input class=\"input\" type=\"text\" placeholder=\"标题\" v-model=\"commitTitle\">\n    <br>\n    <br>\n    <textarea class=\"textarea\" placeholder=\"附加信息\" v-model=\"input\"></textarea>\n    <br>\n    <code>{{issue}}</code>\n    <br>\n    <label class=\"checkbox\">\n      <input type=\"checkbox\" v-model=\"githubCommit\" :disabled=\"!username\">\n      以我的GitHub身份Commit <template v-if=\"!username\">(请登陆)</template>\n    </label>\n    <hr>\n    <button class=\"button is-link is-light\" :class=\"{ 'is-loading': urlLoading }\" @click=\"submit\" v-if=\"!url\">发布</button>\n    <a :href=\"url\" target=\"_blank\" v-if=\"url\">{{url}}</a>\n  </template>\n  <span v-if=\"diffLength === undefined\">\n    loading...\n  </span>\n  <span v-if=\"diffLength === 0\">\n    无修改\n  </span>\n</div>\n</template>\n\n<script>\nimport { mapState, createNamespacedHelpers } from 'vuex'\n\nimport { diff, makeIssue, submitDiff } from '@/worker'\n\nconst { mapState: mapLoginState, mapMutations: mapLoginMutations, mapGetters: mapLoginGetters } = createNamespacedHelpers('login')\n\nexport default {\n  data() {\n    return {\n      diffLength: undefined,\n      input: '',\n      issue: '',\n      url: undefined,\n      urlLoading: false\n    }\n  },\n  async mounted() {\n    this.diffLength = (await diff()).length\n  },\n  computed: {\n    ...mapState(['diff']),\n    ...mapLoginState(['commit', 'username', 'token', 'title']),\n    ...mapLoginGetters(['command']),\n    githubCommit: {\n      get() {\n        return this.username && this.commit\n      },\n      set(value) {\n        this.setCommit(value)\n      }\n    },\n    commitTitle: {\n      get() {\n        return this.title\n      },\n      set(value) {\n        this.setTitle(value)\n      }\n    }\n  },\n  watch: {\n    async diff() {\n      this.diffLength = (await diff()).length\n      await this.updateIssue()\n    },\n    command() {\n      this.updateIssue()\n    },\n    input: {\n      immediate: true,\n      handler() {\n        this.updateIssue()\n      }\n    }\n  },\n  methods: {\n    ...mapLoginMutations(['setCommit', 'setTitle']),\n    async submit() {\n      this.urlLoading = true\n      const params = [this.input, this.command]\n      if (this.username) {\n        params.push(this.token)\n      }\n      this.url = await submitDiff(...params)\n    },\n    async updateIssue() {\n      const input = this.input\n      const issue = await makeIssue(input, this.command)\n      if (this.input === input) {\n        this.issue = issue\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\ncode {\n  display: block;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./issue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./issue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./issue.vue?vue&type=template&id=fdc9c2a0&scoped=true&\"\nimport script from \"./issue.vue?vue&type=script&lang=js&\"\nexport * from \"./issue.vue?vue&type=script&lang=js&\"\nimport style0 from \"./issue.vue?vue&type=style&index=0&id=fdc9c2a0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fdc9c2a0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"title\"},[_vm._v(\"测试\")]),(_vm.loading)?_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"少女祈祷中...\")]):[_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"Error: \"+_vm._s(_vm.errors.length))]),_vm._l((_vm.errors),function(error,n){return _c('p',{key:(\"error_\" + n),staticClass:\"has-text-danger\"},[_vm._v(_vm._s(error))])})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <h1 class=\"title\">测试</h1>\n  <h2 class=\"subtitle\" v-if=\"loading\">少女祈祷中...</h2>\n  <template v-else>\n    <h2 class=\"subtitle\">Error: {{errors.length}}</h2>\n    <p class=\"has-text-danger\" v-for=\"(error, n) in errors\" :key=\"`error_${n}`\">{{error}}</p>\n  </template>\n</div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nimport { test } from '@/worker'\n\nexport default {\n  data() {\n    return {\n      errors: [],\n      loading: true\n    }\n  },\n  watch: {\n    async diff() {\n      this.loading = true\n      this.errors = await test()\n      this.loading = false\n    }\n  },\n  async mounted() {\n    this.errors = await test()\n    this.loading = false\n  },\n  computed: mapState(['diff'])\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./test.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./test.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./test.vue?vue&type=template&id=7a6a8d36&\"\nimport script from \"./test.vue?vue&type=script&lang=js&\"\nexport * from \"./test.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"container\">\n  <br>\n  <diff></diff>\n  <hr>\n  <test></test>\n  <hr>\n  <serialize></serialize>\n  <hr>\n  <issue></issue>\n  <br>\n</div>\n</template>\n\n<script>\nimport diff from '@/components/diff'\nimport serialize from '@/components/diff/serialize'\nimport issue from '@/components/diff/issue'\nimport test from '@/components/diff/test'\n\nexport default {\n  components: { diff, serialize, issue, test }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Submit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Submit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Submit.vue?vue&type=template&id=2b52651e&\"\nimport script from \"./Submit.vue?vue&type=script&lang=js&\"\nexport * from \"./Submit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('br'),_c('div',{staticClass:\"field is-horizontal\"},[_vm._m(0),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field has-addons\"},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.fileName),expression:\"editing.fileName\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"文件名\"},domProps:{\"value\":(_vm.editing.fileName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editing, \"fileName\", $event.target.value)}}})]),_vm._m(1),_c('div',{staticClass:\"control\"},[(_vm.msg.filename)?_c('p',{staticClass:\"help warn is-danger\"},[_vm._v(_vm._s(_vm.msg.filename))]):_vm._e()])])])]),_c('hr'),_vm._l((_vm.editing.names),function(name,n){return _c('div',{key:(\"name_\" + n),staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-label is-normal\"},[(!n)?_c('label',{staticClass:\"label\"},[_vm._v(\"名字\")]):_vm._e(),(!n)?_c('p',{staticClass:\"help\"},[_vm._v(\"语言可以是 cn, en, jp 之类的\")]):_vm._e()]),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field has-addons\"},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.names[n][0]),expression:\"editing.names[n][0]\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"语言\"},domProps:{\"value\":(_vm.editing.names[n][0])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editing.names[n], 0, $event.target.value)}}})]),_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.names[n][1]),expression:\"editing.names[n][1]\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"名字\"},domProps:{\"value\":(_vm.editing.names[n][1])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editing.names[n], 1, $event.target.value)}}})]),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.deleteName(n)}}},[_vm._v(\"删除\")])])])])])}),_c('div',{staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-label\"}),_c('div',{staticClass:\"field-body\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":_vm.addName}},[_vm._v(\"添加名字\")]),_c('div',{staticClass:\"control\"},[(_vm.msg.name)?_c('p',{staticClass:\"help warn is-danger\"},[_vm._v(_vm._s(_vm.msg.name))]):_vm._e()])])]),_c('hr'),_c('div',{staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-label is-normal\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"记录类型\")]),(_vm.editing.type === 'group')?_c('p',{staticClass:\"help\"},[_vm._v(\"请为每个社团成员创建单独的文件，不要把成员的账号放进社团的文件\")]):_vm._e()]),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"select\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.type),expression:\"editing.type\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.editing, \"type\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"vtuber\"}},[_vm._v(\"虚拟主播\")]),_c('option',{attrs:{\"value\":\"group\"}},[_vm._v(\"社团\")])])])])])]),_c('div',{staticClass:\"field is-horizontal\"},[_vm._m(2),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.bot),expression:\"editing.bot\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.editing.bot)?_vm._i(_vm.editing.bot,null)>-1:(_vm.editing.bot)},on:{\"change\":function($event){var $$a=_vm.editing.bot,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.editing, \"bot\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.editing, \"bot\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.editing, \"bot\", $$c)}}}}),_vm._v(\" 机器人 \")])])])]),_c('hr'),_vm._l((_vm.editing.accounts),function(ref,n){\nvar id = ref.id;\nreturn _c('div',{key:(\"account_\" + n),staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-label is-normal\"},[(!n)?_c('label',{staticClass:\"label\"},[_vm._v(\"账号\")]):_vm._e(),(!id || !_vm.urls[n].startsWith('http'))?_c('p',{staticClass:\"help url\"},[_vm._v(_vm._s(_vm.urls[n]))]):_c('a',{staticClass:\"help url\",attrs:{\"href\":_vm.urls[n],\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.urls[n]))])]),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field has-addons\"},[_c('div',{staticClass:\"control\"},[_c('div',{staticClass:\"select\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.accounts[n].platform),expression:\"editing.accounts[n].platform\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.editing.accounts[n], \"platform\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_vm._l((_vm.platforms),function(ref){\nvar platformName = ref[0];\nreturn _c('option',{key:(\"account_\" + n + \"_\" + platformName),domProps:{\"value\":platformName}},[_vm._v(_vm._s(platformName))])}),_c('option',{attrs:{\"value\":\"other\"}},[_vm._v(\"其他\")])],2)])]),_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.accounts[n].id),expression:\"editing.accounts[n].id\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"{id}\"},domProps:{\"value\":(_vm.editing.accounts[n].id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editing.accounts[n], \"id\", $event.target.value)}}})]),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.deleteAccount(n)}}},[_vm._v(\"删除\")])])])])])}),_c('div',{staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-label\"}),_c('div',{staticClass:\"field-body\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":_vm.addAccount}},[_vm._v(\"添加账号\")])])]),_c('hr'),_c('div',{staticClass:\"field is-horizontal\"},[_vm._m(3),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.group),expression:\"editing.group\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"社团\"},domProps:{\"value\":(_vm.editing.group)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editing, \"group\", $event.target.value)}}})]),_vm._l((_vm.groupAuto),function(group){return _c('button',{key:(\"groupAuto_\" + group),staticClass:\"button is-text\",on:{\"click\":function($event){_vm.editing.group = group}}},[_vm._v(_vm._s(group))])})],2)])]),_c('hr'),_c('div',{staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-label is-normal\"},[(_vm.saved)?_c('p',{staticClass:\"help\"},[_vm._v(\"保存成功!\")]):_vm._e(),(_vm.failed)?_c('p',{staticClass:\"help is-danger\"},[_vm._v(\"格式错误，请检查上面的输入!\")]):_vm._e()]),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field is-grouped\"},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link\",class:{ 'is-loading': _vm.saving },attrs:{\"disabled\":!_vm.editing.fileName || _vm.saving},on:{\"click\":_vm.save}},[_vm._v(\"保存 \"+_vm._s(_vm.fileName))])]),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link is-light\",on:{\"click\":_vm.reset}},[_vm._v(\"复原\")])]),_c('div',{staticClass:\"control\"},[_c('router-link',{staticClass:\"button is-light\",attrs:{\"tag\":\"button\",\"to\":\"/\"}},[_vm._v(\"返回\")])],1),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-danger\",attrs:{\"disabled\":!_vm.file},on:{\"click\":_vm.remove}},[_vm._v(\"删除\")])])])])]),_c('hr'),_c('code',[_vm._v(_vm._s(_vm.code))]),_c('br')],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field-label is-normal\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"文件名\")]),_c('p',{staticClass:\"help\"},[_vm._v(\"一般用名字\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"control\"},[_c('a',{staticClass:\"button is-static\"},[_vm._v(\".json\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field-label is-normal\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"是不是机器人\")]),_c('p',{staticClass:\"help\"},[_vm._v(\"就是24*7那样的\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field-label is-normal\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"所属社团\")]),_c('p',{staticClass:\"help\"},[_vm._v(\"这里写所属社团记录的文件名\"),_c('br'),_vm._v(\"(不需要文件后缀)\")]),_c('p',{staticClass:\"help\"},[_vm._v(\"无所属留空\")])])}]\n\nexport { render, staticRenderFns }","<template>\n<div class=\"container\">\n  <br>\n\n  <div class=\"field is-horizontal\">\n    <div class=\"field-label is-normal\">\n      <label class=\"label\">文件名</label>\n      <p class=\"help\">一般用名字</p>\n    </div>\n    <div class=\"field-body\">\n      <div class=\"field has-addons\">\n        <div class=\"control\"><input class=\"input\" type=\"text\" placeholder=\"文件名\" v-model=\"editing.fileName\"></div>\n        <div class=\"control\"><a class=\"button is-static\">.json</a></div>\n        <div class=\"control\">\n          <p class=\"help warn is-danger\" v-if=\"msg.filename\">{{msg.filename}}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <hr>\n\n  <div class=\"field is-horizontal\" v-for=\"(name, n) in editing.names\" :key=\"`name_${n}`\">\n    <div class=\"field-label is-normal\">\n      <label class=\"label\" v-if=\"!n\">名字</label>\n      <p class=\"help\" v-if=\"!n\">语言可以是 cn, en, jp 之类的</p>\n    </div>\n    <div class=\"field-body\">\n      <div class=\"field has-addons\">\n        <div class=\"control\"><input class=\"input\" type=\"text\" placeholder=\"语言\" v-model=\"editing.names[n][0]\"></div>\n        <div class=\"control\"><input class=\"input\" type=\"text\" placeholder=\"名字\" v-model=\"editing.names[n][1]\"></div>\n        <div class=\"control\"><button class=\"button is-danger\" @click=\"deleteName(n)\">删除</button></div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"field is-horizontal\">\n    <div class=\"field-label\">\n    </div>\n    <div class=\"field-body\">\n      <button class=\"button is-link\" @click=\"addName\">添加名字</button>\n      <div class=\"control\">\n        <p class=\"help warn is-danger\" v-if=\"msg.name\">{{msg.name}}</p>\n      </div>\n    </div>\n  </div>\n\n  <hr>\n\n  <div class=\"field is-horizontal\">\n    <div class=\"field-label is-normal\">\n      <label class=\"label\">记录类型</label>\n      <p class=\"help\" v-if=\"editing.type === 'group'\">请为每个社团成员创建单独的文件，不要把成员的账号放进社团的文件</p>\n    </div>\n    <div class=\"field-body\">\n      <div class=\"field\">\n        <div class=\"select\">\n          <select v-model=\"editing.type\">\n            <option value=\"vtuber\">虚拟主播</option>\n            <option value=\"group\">社团</option>\n          </select>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"field is-horizontal\">\n    <div class=\"field-label is-normal\">\n      <label class=\"label\">是不是机器人</label>\n      <p class=\"help\">就是24*7那样的</p>\n    </div>\n    <div class=\"field-body\">\n      <div class=\"field\">\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" v-model=\"editing.bot\">\n          机器人\n        </label>\n      </div>\n    </div>\n  </div>\n\n  <hr>\n\n  <div class=\"field is-horizontal\" v-for=\"({id}, n) in editing.accounts\" :key=\"`account_${n}`\">\n    <div class=\"field-label is-normal\">\n      <label class=\"label\" v-if=\"!n\">账号</label>\n      <p v-if=\"!id || !urls[n].startsWith('http')\" class=\"help url\">{{urls[n]}}</p>\n      <a v-else :href=\"urls[n]\" target=\"_blank\" class=\"help url\">{{urls[n]}}</a>\n    </div>\n    <div class=\"field-body\">\n      <div class=\"field has-addons\">\n        <div class=\"control\">\n          <div class=\"select\">\n            <select v-model=\"editing.accounts[n].platform\">\n              <option v-for=\"[platformName] in platforms\" :key=\"`account_${n}_${platformName}`\" :value=\"platformName\">{{platformName}}</option>\n              <option value=\"other\">其他</option>\n            </select>\n          </div>\n        </div>\n        <div class=\"control\"><input class=\"input\" type=\"text\" placeholder=\"{id}\" v-model=\"editing.accounts[n].id\"></div>\n        <div class=\"control\"><button class=\"button is-danger\" @click=\"deleteAccount(n)\">删除</button></div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"field is-horizontal\">\n    <div class=\"field-label\">\n    </div>\n    <div class=\"field-body\">\n      <button class=\"button is-link\" @click=\"addAccount\">添加账号</button>\n    </div>\n  </div>\n\n  <hr>\n\n  <div class=\"field is-horizontal\">\n    <div class=\"field-label is-normal\">\n      <label class=\"label\">所属社团</label>\n      <p class=\"help\">这里写所属社团记录的文件名<br>(不需要文件后缀)</p>\n      <p class=\"help\">无所属留空</p>\n    </div>\n    <div class=\"field-body\">\n      <div class=\"field\">\n        <div class=\"control\"><input class=\"input\" type=\"text\" placeholder=\"社团\" v-model=\"editing.group\"></div>\n        <button class=\"button is-text\" v-for=\"group in groupAuto\" :key=\"`groupAuto_${group}`\" @click=\"editing.group = group\">{{group}}</button>\n      </div>\n    </div>\n  </div>\n\n  <hr>\n\n  <div class=\"field is-horizontal\">\n    <div class=\"field-label is-normal\">\n      <p class=\"help\" v-if=\"saved\">保存成功!</p>\n      <p class=\"help is-danger\" v-if=\"failed\">格式错误，请检查上面的输入!</p>\n    </div>\n    <div class=\"field-body\">\n      <div class=\"field is-grouped\">\n        <div class=\"control\">\n          <button class=\"button is-link\" :class=\"{ 'is-loading': saving }\" :disabled=\"!editing.fileName || saving\" @click=\"save\">保存 {{fileName}}</button>\n        </div>\n        <div class=\"control\">\n          <button class=\"button is-link is-light\" @click=\"reset\">复原</button>\n        </div>\n        <div class=\"control\">\n          <router-link class=\"button is-light\" tag=\"button\" to=\"/\">返回</router-link>\n        </div>\n        <div class=\"control\">\n          <button class=\"button is-danger\" @click=\"remove\" :disabled=\"!file\">删除</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <hr>\n\n  <code>{{code}}</code>\n  <br>\n</div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\n\nimport { saveVtb, getVtbJson, deleteVtb, getGroupList } from '@/worker'\n\nexport default {\n  props: ['file'],\n  data() {\n    const editing = {\n      fileName: '',\n      names: [],\n      type: 'vtuber',\n      bot: false,\n      accounts: [],\n      group: ''\n    }\n    this.msg = {}\n    this.backup = JSON.stringify(editing)\n    this.blank = JSON.stringify(editing)\n\n    return { editing, saving: false, saved: false, saveReset: true, failed: false, rest: {}, groupList: [] }\n  },\n  watch: {\n    editing: {\n      deep: true,\n      handler() {\n        if (this.saveReset) {\n          this.saved = false\n        } else {\n          this.saveReset = true\n        }\n        this.failed = false\n      }\n    },\n    'editing.fileName': {\n      handler() {\n        this.checkFileName()\n      }\n    },\n    'editing.names': {\n      deep: true,\n      handler() {\n        this.checkName()\n      }\n    },\n    file: {\n      immediate: true,\n      async handler(file, oldFile) {\n        if (file !== oldFile) {\n          if (file) {\n            const { accounts = {}, name = {}, type, bot, group, ...rest } = await getVtbJson(file)\n            this.saveReset = false\n            this.editing = JSON.parse(this.blank)\n            this.editing.fileName = file.replace('.json', '')\n\n            Object.entries(name)\n              .flatMap(([lang, names]) => [names].flat().map(n => [lang, n]))\n              .forEach(([lang, n]) => this.editing.names.push([lang, n]))\n\n            Object.entries(accounts)\n              .flatMap(([platform, ids]) => [ids].flat().map(id => [platform, id]))\n              .map(([platform, id]) => [platform, id.id || id])\n              .forEach(([platform, id]) => this.editing.accounts.push({ platform, id }))\n\n            if (type) {\n              this.editing.type = type\n            }\n\n            if (bot) {\n              this.editing.bot = bot\n            }\n\n            if (group) {\n              this.editing.group = group\n            }\n\n            this.backup = JSON.stringify(this.editing)\n\n            this.rest = rest\n          } else {\n            this.backup = this.blank\n            this.rest = {}\n            this.reset()\n          }\n        }\n        this.groupList = await getGroupList()\n      }\n    }\n  },\n  async mounted() {},\n  methods: {\n    ...mapActions(['loadFileList']),\n    addName() {\n      this.editing.names.push(['', ''])\n    },\n    deleteName(n) {\n      this.editing.names.splice(n, 1)\n    },\n    addAccount() {\n      this.editing.accounts.push({ id: '', platform: 'bilibili' })\n    },\n    deleteAccount(n) {\n      this.editing.accounts.splice(n, 1)\n    },\n    checkFileName() {\n      this.msg.filename = '\\\\/:*\"<>|'.split('').some(char => this.editing.fileName.includes(char)) ? '非法文件名' : undefined\n      return !this.msg.filename\n    },\n    checkName() {\n      if (this.editing.names.length === 0) {\n        this.msg.name = '未填写名称'\n        return false\n      }\n      for (const pair of this.editing.names) {\n        if (!pair[0]) {\n          this.msg.name = '未填写语言'\n          return false\n        }\n        if (' ,:*\\\\/'.split('').some(char => pair[0].includes(char))) {\n          this.msg.name = '名称语言无效'\n          return false\n        }\n      }\n      this.msg.name = undefined\n      return true\n    },\n    async remove() {\n      await deleteVtb(this.file)\n      this.$router.push('/')\n    },\n    async save() {\n      this.saving = true\n      if (this.checkFileName() && this.checkName()) {\n        if (this.file) {\n          await deleteVtb(this.file)\n        }\n        await saveVtb(this.fileName, this.data)\n        this.saving = false\n        this.saved = true\n        await this.loadFileList()\n        if (this.file !== this.fileName) {\n          this.$router.push(`/edit/${this.fileName}`)\n        }\n      } else {\n        this.saving = false\n        this.failed = true\n      }\n    },\n    reset() {\n      this.editing = JSON.parse(this.backup)\n    }\n  },\n  computed: {\n    ...mapState(['meta']),\n    groupAuto() {\n      const input = this.editing.group\n      const keys = input.toLowerCase().split(' ').filter(Boolean)\n      const result = this.groupList\n        .filter(group => keys.every(key => group.toLowerCase().includes(key)))\n      if (result.length === 1 && result[0] === input) {\n        return []\n      }\n      return result\n    },\n    platforms() {\n      return Object.entries(this.meta.linkSyntax)\n    },\n    linkSyntax() {\n      return { ...this.meta.linkSyntax, other: '请直接输入完整链接' }\n    },\n    urls() {\n      return this.editing.accounts\n        .map(({ platform, id }) => ({ platform, id: !id ? '{id}' : id }))\n        .map(({ platform, id }) => this.linkSyntax[platform].replace('{id}', id))\n    },\n    fileName() {\n      return `${this.editing.fileName}.json`\n    },\n    code() {\n      return JSON.stringify(this.data, undefined, 2)\n    },\n    data() {\n      const file = {}\n\n      const { accounts, group, names, type, bot } = this.editing\n\n      if (names.length) {\n        file.name = {}\n        names.forEach(([lang, name]) => {\n          if (!file.name[lang]) {\n            file.name[lang] = name\n          } else {\n            file.name[lang] = [file.name[lang], name].flat()\n          }\n        })\n      }\n\n      if (accounts.length) {\n        file.accounts = {}\n        accounts.forEach(({ id, platform }) => {\n          if (!file.accounts[platform]) {\n            file.accounts[platform] = id\n          } else {\n            file.accounts[platform] = [file.accounts[platform], id].flat()\n          }\n        })\n      }\n\n      if (type !== 'vtuber') {\n        file.type = type\n      }\n\n      if (bot) {\n        file.bot = true\n      }\n\n      if (group) {\n        file.group = group\n        if (file.group.endsWith('.json')) {\n          file.group = file.group.replace('.json', '')\n        }\n      }\n\n      return { ...this.rest, ...file }\n    }\n  }\n}\n</script>\n\n<style scoped>\ncode {\n  display: block;\n  white-space: pre-wrap;\n}\n\n.warn {\n  font-size: 1rem;\n  margin: 10px;\n}\n\n.url {\n  word-break: break-all;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=79b835ec&scoped=true&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Edit.vue?vue&type=style&index=0&id=79b835ec&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79b835ec\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container high\"},[_c('br'),_c('h1',{staticClass:\"title\"},[_vm._v(\"存档\")]),_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"Workspace (\"+_vm._s(_vm.workspaceCount)+\")\")]),_c('hr'),_c('div',{staticClass:\"field has-addons\"},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"名字\"},domProps:{\"value\":(_vm.name)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.save($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})]),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-info\",on:{\"click\":_vm.save}},[_vm._v(\"保存\")])])]),_c('hr'),_vm._l((_vm.workspaceList),function(save){return _c('div',{key:(\"save_\" + save),staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-label is-normal\"},[_c('label',{staticClass:\"label\"},[_vm._v(_vm._s(save))])]),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field is-grouped\"},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-info\",on:{\"click\":function($event){return _vm.load(save)}}},[_vm._v(\"载入\")])]),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-light is-danger\",on:{\"click\":function($event){return _vm.remove(save)}}},[_vm._v(\" 删除\")])])])])])}),_c('br')],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"container high\">\n  <br>\n  <h1 class=\"title\">存档</h1>\n  <h2 class=\"subtitle\">Workspace ({{workspaceCount}})</h2>\n  <hr>\n  <div class=\"field has-addons\">\n    <div class=\"control\">\n      <input class=\"input\" type=\"text\" placeholder=\"名字\" v-model=\"name\" v-on:keyup.enter=\"save\">\n    </div>\n    <div class=\"control\">\n      <button class=\"button is-info\" @click=\"save\">保存</button>\n    </div>\n  </div>\n  <hr>\n\n  <div class=\"field is-horizontal\" v-for=\"save in workspaceList\" :key=\"`save_${save}`\">\n    <div class=\"field-label is-normal\">\n      <label class=\"label\">{{save}}</label>\n    </div>\n    <div class=\"field-body\">\n      <div class=\"field is-grouped\">\n        <div class=\"control\"><button @click=\"load(save)\" class=\"button is-info\">载入</button></div>\n        <div class=\"control\"><button @click=\"remove(save)\" class=\"button is-light is-danger\"> 删除</button></div>\n      </div>\n    </div>\n  </div>\n\n  <br>\n</div>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex'\n\nimport { saveWorkspace, loadWorkspace, deleteWorkspace } from '@/worker'\n\nexport default {\n  data() {\n    return {\n      workspaceListLoaded: false,\n      name: ''\n    }\n  },\n  async mounted() {\n    await this.loadWorkspaceList()\n    this.workspaceListLoaded = true\n  },\n  computed: {\n    workspaceCount() {\n      if (this.workspaceListLoaded) {\n        return this.workspaceList.length\n      }\n      return 'loading...'\n    },\n    ...mapState(['workspaceList'])\n  },\n  methods: {\n    ...mapActions(['loadFileList', 'loadWorkspaceList']),\n    async save() {\n      const name = this.name\n      if (name) {\n        await saveWorkspace(name)\n        await this.loadWorkspaceList()\n      }\n    },\n    async load(name) {\n      await loadWorkspace(name)\n      await this.loadFileList()\n    },\n    async remove(name) {\n      await deleteWorkspace(name)\n      await this.loadWorkspaceList()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.high {\n  min-height: 100vh;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workspace.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workspace.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Workspace.vue?vue&type=template&id=7f50a6a6&scoped=true&\"\nimport script from \"./Workspace.vue?vue&type=script&lang=js&\"\nexport * from \"./Workspace.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Workspace.vue?vue&type=style&index=0&id=7f50a6a6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f50a6a6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"content\"},[_c('br'),(_vm.username)?_c('status'):(_vm.code || _vm.token)?_c('codee',{attrs:{\"code\":_vm.code}}):_c('login')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_vm._v(\"GitHub账号\")]),_c('img',{attrs:{\"src\":_vm.extra.avatar,\"alt\":\"avatar\",\"height\":\"128px\",\"width\":\"128px\"}}),_c('p',[_vm._v(\"用户名: \"+_vm._s(_vm.username)+\" \"),_c('a',{attrs:{\"href\":_vm.extra.url,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.extra.url))]),_vm._v(\" \"),_c('br'),_vm._v(\" 昵称: \"+_vm._s(_vm.name)+\" \"),_c('br'),_vm._v(\" 邮箱: \"+_vm._s(_vm.email))]),_c('button',{staticClass:\"button\",on:{\"click\":_vm.logout}},[_vm._v(\"登出\")]),_c('br')])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <h3>GitHub账号</h3>\n  <img :src=\"extra.avatar\" alt=\"avatar\" height=\"128px\" width=\"128px\">\n  <p>用户名: {{username}}\n    <a :href=\"extra.url\" target=\"_blank\">{{extra.url}}</a> <br>\n    昵称: {{name}} <br>\n    邮箱: {{email}}</p>\n  <button class=\"button\" @click=\"logout\">登出</button>\n  <br>\n</div>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from 'vuex'\n\nconst { mapState, mapActions } = createNamespacedHelpers('login')\n\nexport default {\n  computed: mapState(['username', 'name', 'email', 'extra']),\n  methods: {\n    ...mapActions(['updateToken']),\n    logout() {\n      this.updateToken()\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./status.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./status.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./status.vue?vue&type=template&id=70ef2e57&\"\nimport script from \"./status.vue?vue&type=script&lang=js&\"\nexport * from \"./status.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.fail || _vm.failed)?_c('p',[_vm._v(\"呜呜呜...登陆失败, 再试试吧QAQ\")]):_c('p',[_vm._v(\"登陆中...\")]),(_vm.fail || _vm.failed)?_c('login'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_vm._v(\"登陆GitHub\")]),_c('a',{attrs:{\"href\":_vm.url}},[_vm._v(\"通过GitHub登陆\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <h3>登陆GitHub</h3>\n  <a :href=\"url\">通过GitHub登陆</a>\n</div>\n</template>\n\n<script>\nimport { getGithubLoginUrl } from './w'\n\nexport default {\n  data() {\n    return { url: getGithubLoginUrl() }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=65ea46ba&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<div>\n  <p v-if=\"fail || failed\">呜呜呜...登陆失败, 再试试吧QAQ</p>\n  <p v-else>登陆中...</p>\n  <login v-if=\"fail || failed\"></login>\n</div>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from 'vuex'\n\nimport { getToken } from './w'\nimport login from './login'\n\nconst { mapActions, mapState } = createNamespacedHelpers('login')\n\nexport default {\n  props: ['code'],\n  components: { login },\n  data() {\n    return { fail: false }\n  },\n  computed: mapState({ failed: 'fail' }),\n  async mounted() {\n    if (this.code) {\n      const token = await getToken(this.code).catch(() => undefined)\n      if (token) {\n        await this.updateToken(token)\n      } else {\n        this.fail = true\n      }\n    }\n  },\n  methods: mapActions(['updateToken'])\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./code.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./code.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./code.vue?vue&type=template&id=6a4f72a6&\"\nimport script from \"./code.vue?vue&type=script&lang=js&\"\nexport * from \"./code.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"container\">\n  <div class=\"content\">\n    <br>\n    <status v-if=\"username\"></status>\n    <codee v-else-if=\"code || token\" :code=\"code\"></codee>\n    <login v-else></login>\n  </div>\n</div>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from 'vuex'\n\nimport status from '@/components/login/status'\nimport codee from '@/components/login/code'\nimport login from '@/components/login/login'\n\nconst { mapState } = createNamespacedHelpers('login')\n\nexport default {\n  props: ['code'],\n  components: { login, codee, status },\n  computed: mapState(['username', 'token'])\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=1fe97561&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\nimport Submit from '../views/Submit.vue'\nimport Edit from '../views/Edit.vue'\nimport Workspace from '../views/Workspace.vue'\nimport Login from '../views/Login.vue'\n\nVue.use(VueRouter)\n\nconst routes = [{\n  path: '/',\n  component: Home\n}, {\n  path: '/submit',\n  component: Submit\n}, {\n  path: '/edit',\n  component: Edit\n}, {\n  path: '/edit/:file',\n  component: Edit,\n  props: true\n}, {\n  path: '/workspace',\n  component: Workspace\n}, {\n  path: '/login',\n  component: Login,\n  props: route => ({ code: route.query.code })\n}]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport { getList, loadFs, getMeta, diff, loadWorkspaceList } from '@/worker'\n\nimport { getUser, saveToken } from '@/components/login/w'\n\nVue.use(Vuex)\n\nconst login = {\n  namespaced: true,\n  state: {\n    username: undefined,\n    name: undefined,\n    token: undefined,\n    email: undefined,\n    fail: false,\n    extra: {},\n    title: '',\n    commit: true\n  },\n  getters: {\n    currentState: state => {\n      if (state.username) {\n        return `(${state.name || state.username})`\n      } else if (state.fail) {\n        return '(登陆失败)'\n      } else if (state.token) {\n        return '(登陆中)'\n      }\n      return ''\n    },\n    command: state => {\n      const command = []\n      if (state.commit && state.username) {\n        command.push(['name', state.name || state.username])\n        if (state.email) {\n          command.push(['email', state.email])\n        }\n      }\n      if (state.title) {\n        command.push(['title', state.title])\n      }\n      return command\n    }\n  },\n  mutations: {\n    setToken: (state, token) => {\n      state.token = token\n      saveToken(token)\n    },\n    fail: state => {\n      state.fail = true\n    },\n    setUsername: (state, username) => {\n      state.username = username\n    },\n    setName: (state, name) => {\n      state.name = name\n    },\n    setEmail: (state, email) => {\n      state.email = email\n    },\n    setExtra: (state, extra = {}) => {\n      state.extra = extra\n    },\n    setTitle(state, title) {\n      state.title = title\n    },\n    setCommit: (state, newValue) => {\n      state.commit = newValue\n    }\n  },\n  actions: {\n    updateToken: async ({ commit }, token) => {\n      commit('setToken', token)\n      if (token) {\n        const { login, name, email, avatar, url } = await getUser(token).catch(() => ({}))\n        if (login) {\n          commit('setUsername', login)\n          commit('setExtra', { avatar, url })\n          if (name) {\n            commit('setName', name)\n          }\n          if (email) {\n            commit('setEmail', email)\n          }\n        } else {\n          commit('fail')\n        }\n      } else {\n        commit('setUsername')\n        commit('setExtra')\n        commit('setName')\n        commit('setEmail')\n      }\n    }\n  }\n}\n\nexport default new Vuex.Store({\n  state: {\n    fileList: [],\n    fsLoaded: false,\n    meta: {},\n    diff: [],\n    workspaceList: []\n  },\n  mutations: {\n    loadedFs(state) {\n      state.fsLoaded = true\n    },\n    updateFileList(state, newList) {\n      state.fileList = newList\n    },\n    updateMeta(state, meta) {\n      state.meta = meta\n    },\n    updateDiff(state, diff) {\n      state.diff = diff\n    },\n    updateWorkspaceList(state, list) {\n      state.workspaceList = list\n    }\n  },\n  actions: {\n    async loadFileList({ commit, dispatch }) {\n      const newList = await getList()\n      commit('updateFileList', newList)\n      await dispatch('loadDiff')\n    },\n    async loadFs({ commit }) {\n      await loadFs()\n      commit('updateMeta', await getMeta())\n      commit('loadedFs')\n    },\n    async loadDiff({ commit }) {\n      commit('updateDiff', await diff())\n    },\n    async loadWorkspaceList({ commit }) {\n      commit('updateWorkspaceList', await loadWorkspaceList())\n    }\n  },\n  modules: { login }\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\n\nimport './bulma.scss'\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n","module.exports = (_, files) => files\n  .map(file => file.split('').reverse().join('').replace('nosj.', '').split('').reverse().join(''))\n  .filter(file => file.endsWith(' ') || file.startsWith(' '))\n  .map(file => `文件名 开头/结尾 存在空格: ${file}.json`)\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vtb.vue?vue&type=style&index=0&id=1e94bd88&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./change.vue?vue&type=style&index=0&id=005d5cfb&scoped=true&lang=css&\"","const { v5: uuidv5 } = require('uuid')\n\nmodule.exports = ({ vtbs, linkSyntax, UUID_NAMESPACE }, keepFilename = false) => ({\n  meta: { UUID_NAMESPACE, linkSyntax },\n  vtbs: vtbs\n    .map(({ name, object }) => ({ uuid: uuidv5(name, UUID_NAMESPACE), object, name }))\n    .map(({ object, ...extra }) => ({ object: { ...object, name: Object.entries(object.name || {}) }, ...extra }))\n    .map(({ object, ...extra }) => ({ object: { ...object, accounts: Object.entries(object.accounts || {}) }, ...extra }))\n    .map(({ uuid, object, name }) => {\n      const parsed = { uuid }\n      parsed.type = object.type || 'vtuber'\n      parsed.bot = !!object.bot\n\n      parsed.accounts = object.accounts\n        .map(([platform, ids]) => [platform, [ids].flat()])\n        .flatMap(([platform, ids]) => ids.map(id => ({ platform, id })))\n        .map(({ platform, id }) => typeof id === 'string' ? { platform, id: { id } } : { platform, id })\n        .map(({ platform, id }) => ({ ...id, type: id.type || 'official', platform }))\n\n      parsed.name = { extra: [] }\n      object.name\n        .map(([lang, name]) => typeof name === 'object' ? [lang, name] : [lang, [name]])\n        .forEach(([lang, names]) => names.forEach(name => {\n          if (parsed.name[lang]) {\n            parsed.name.extra.push(name)\n          } else {\n            parsed.name[lang] = name\n          }\n        }))\n      if (!parsed.name.default && (object.name[0] || [undefined])[0]) {\n        parsed.name.default = (object.name[0] || [undefined])[0]\n      }\n\n      if (object.group) {\n        parsed.group = uuidv5(object.group, UUID_NAMESPACE)\n      } else if (parsed.type === 'group') {\n        parsed.group = uuid\n      }\n\n      if (keepFilename) {\n        parsed.filename = name\n      }\n\n      return parsed\n    }),\n})\n","const neverSubmit = {}\n\nmodule.exports = ({ vtbs }) => {\n  const errors = []\n  const knowAccounts = {}\n  const reportError = ({ platform, id, name }) => txt => errors.push(`${Object.values(name)[1]}, ${txt}: ${platform}, ${id}`)\n  vtbs\n    .forEach(({ accounts, name }) => accounts.forEach(({ id, platform, type }) => {\n      const reporter = reportError({ name, id, platform })\n      if (!id) {\n        reporter('id为空')\n      }\n      if (!knowAccounts[platform]) {\n        knowAccounts[platform] = {}\n      }\n      if (knowAccounts[platform][id]) {\n        reporter('重复提交的账户, Duplicated')\n      }\n      knowAccounts[platform][id] = true\n\n      const neverSubmitList = neverSubmit[platform] || []\n      if (neverSubmitList.includes(id)) {\n        reporter('不能提交的账户, Never Submit')\n      }\n    }))\n  return errors\n}\n","module.exports = ({ vtbs }) => vtbs\n  .filter(({ name: { default: w } }) => !w)\n  .map(({ filename }) => `name不对: ${filename}.json`)\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=style&index=0&id=79b835ec&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=28dbbbd7&scoped=true&lang=css&\"","const no = '\\\\/:*\"<>|'.split('')\n\nmodule.exports = (_, files) => files\n  .filter(file => no.some(char => file.includes(char)))\n  .map(file => `非法文件名, illegal filename: ${file}, should not contain ${no.join('')}`)\n","module.exports = ({ vtbs, meta: { linkSyntax } }) => vtbs\n  .flatMap(({ accounts }) => accounts)\n  .map(({ id, platform }) => {\n    if (!linkSyntax[platform]) {\n      return `不明平台, unknow platform, ${platform}, ${id}`\n    }\n  })\n  .filter(Boolean)\n","module.exports = ({ vtbs }) => vtbs\n  .flatMap(({ accounts }) => accounts)\n  .map(({ id, platform }) => {\n    if (['bilibili', 'niconico', 'weibo', '163music'].includes(platform)) {\n      if (Number.isNaN(Number(id))) {\n        return `${platform} id: NaN, ${id}`\n      }\n    }\n  })\n  .filter(Boolean)\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./serialize.vue?vue&type=style&index=0&id=ad7d5b94&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=5a852a3c&scoped=true&lang=css&\"","import level from 'level'\n\nimport { warp } from './warp'\n\nimport vdbParse from '../vdb/parse'\nimport vdbTest from '../vdb/test'\n\nconst workspace = level('submit.vtbs.moe-workspace')\n\nlet list\nlet fs\nlet newFs\nlet newFsLowerCaseFileMap\nconst newFsJsonSearchMap = new Map()\n\nconst encodeBase64 = string => Buffer.from(string).toString('base64')\n\nconst fetchJson = async url => (await fetch(url, { cache: 'no-cache' })).json()\n\nconst updateNewFsJsonSearchMap = (files = Object.keys(newFs)) => [files].flat()\n  .forEach(file => {\n    newFsJsonSearchMap.set(file, `${file}${JSON.stringify(newFs[file])}`.toLowerCase())\n  })\n\nexport const loadFs = warp(async () => {\n  fs = await fetchJson('https://vdb.vtbs.moe/json/fs.json')\n  if (!newFs) {\n    newFs = JSON.parse(JSON.stringify(fs))\n    newFsLowerCaseFileMap = Object.fromEntries(Object.keys(newFs)\n      .map(file => [file.toLowerCase(), file]))\n    updateNewFsJsonSearchMap()\n  }\n  list = await fetchJson('https://vdb.vtbs.moe/json/list.json')\n})\n\nexport const loadWorkspaceList = warp(() => new Promise(resolve => {\n  const list = []\n  workspace.createKeyStream()\n    .on('data', (key) => {\n      list.push(key)\n    })\n    .on('end', () => {\n      resolve(list)\n    })\n}))\n\nexport const saveWorkspace = warp(async name => {\n  await workspace.put(name, JSON.stringify(newFs))\n})\n\nexport const loadWorkspace = warp(async name => {\n  newFs = JSON.parse(await workspace.get(name))\n  newFsLowerCaseFileMap = Object.fromEntries(Object.keys(newFs)\n    .map(file => [file.toLowerCase(), file]))\n  updateNewFsJsonSearchMap()\n})\n\nexport const deleteWorkspace = warp(async name => {\n  await workspace.del(name)\n})\n\nexport const getMeta = warp(() => list.meta)\n\nexport const getFs = warp(() => newFs)\n\nexport const getList = warp(() => Object.keys(newFs).reverse())\n\nexport const getGroupList = warp(() => Object.entries(newFs)\n  .map(([file, { type }]) => ({ file, type }))\n  .filter(({ type }) => type === 'group')\n  .map(({ file }) => file.replace('.json', '')))\n\nexport const searchList = warp(keys => getList()\n  .map(file => [file, newFsJsonSearchMap.get(file)])\n  .filter(([_, content]) => keys.every(key => content.includes(key)))\n  .map(([file]) => file))\n\nexport const getVtbJson = warp(name => newFs[name])\n\nexport const deleteVtb = warp(file => {\n  delete newFs[file]\n  delete newFsLowerCaseFileMap[file.toLowerCase()]\n  newFsJsonSearchMap.delete(file)\n})\n\nexport const saveVtb = warp((file, data) => {\n  const fileLowerCase = file.toLowerCase()\n  const currentFile = newFsLowerCaseFileMap[fileLowerCase]\n  if (currentFile) {\n    deleteVtb(currentFile)\n  }\n  newFs[file] = data\n  newFsLowerCaseFileMap[fileLowerCase] = file\n  updateNewFsJsonSearchMap(file)\n})\n\nexport const resetVtb = warp(file => {\n  if (fs[file]) {\n    saveVtb(file, JSON.parse(JSON.stringify(fs[file])))\n  } else {\n    deleteVtb(file)\n  }\n})\n\nconst parse = () => vdbParse({ ...list.meta, vtbs: Object.entries(newFs).map(([name, object]) => [name.replace('.json', ''), object]).map(([name, object]) => ({ name, object })) }, true)\n\nexport const test = warp(() => vdbTest(parse(), Object.keys(newFs)))\n\nconst diffFile = file => {\n  if (!newFs[file]) {\n    return 'remove'\n  }\n  if (!fs[file]) {\n    return 'add'\n  }\n  if (JSON.stringify(fs[file]) !== JSON.stringify(newFs[file])) {\n    return 'update'\n  }\n  return undefined\n}\n\nexport const diff = warp(() => [...new Set([...Object.keys(fs), ...Object.keys(newFs)])]\n  .map(file => [file, diffFile(file)])\n  .filter(([_, status]) => status))\n\nconst generateLink = file => {\n  const { accounts = {} } = newFs[file]\n  const { linkSyntax } = getMeta()\n  return Object.entries(accounts)\n    .map(([platform, ids]) => [linkSyntax[platform], ids])\n    .map(w => w.flat())\n    .map(([platform, ...ids]) => [platform, ids.map(id => id.id || id)])\n    .flatMap(([linkFormat = '{id}', ...ids]) => ids.map(id => linkFormat.replace('{id}', id)))\n}\n\nconst describeDiff = () => {\n  const change = diff()\n  return change\n    .map(([file, status]) => {\n      if (status === 'add' || status === 'update') {\n        const links = generateLink(file)\n          .map(link => link.startsWith('http') ? `<${link}>` : link)\n          .map(link => `> ${link}`)\n          .join('\\n')\n        if (links.length) {\n          return [file, status, `\\n${links}\\n`]\n        }\n      }\n      return [file, status]\n    })\n    .map(([file, status, detail = '']) => `${status}: ${file}${detail}`)\n    .sort()\n    .join('\\n')\n}\n\nexport const serializeDiff = warp((extraCommands = []) => {\n  const change = diff()\n  const command = change\n    .map(([file, status]) => {\n      switch (status) {\n        case 'remove':\n          return ['delete', file]\n        case 'add':\n        case 'update':\n          return ['put', file, JSON.stringify(getVtbJson(file), undefined, 2)]\n        default:\n      }\n    })\n    .filter(Boolean)\n  if (!command.length) {\n    return []\n  }\n  return [...extraCommands, ...command]\n})\n\nconst encodeDiff = extraCommands => {\n  const command = serializeDiff(extraCommands)\n  return encodeBase64(command\n    .map(([cmd, file, content]) => {\n      const line = [cmd, encodeBase64(file)]\n      if (content) {\n        line.push(encodeBase64(content))\n      }\n      return line\n    })\n    .map(cmds => cmds.join(':'))\n    .join('\\n'))\n}\n\nexport const makeIssue = warp((input, extraCommands) => {\n  const command = encodeDiff(extraCommands)\n  const description = describeDiff()\n\n  return `${input}\n\n### description\n\n${description}\n\n\\`\\`\\`\n-----BEGIN SUBMIT BLOCK-----${command}-----END SUBMIT BLOCK-----\n\\`\\`\\`\n\nSubmit from <https://submit.vtbs.moe>, please evaluate the automatic Pull Request`\n})\n\nexport const submitDiff = warp(async (input, extraCommands, token) => {\n  const body = makeIssue(input, extraCommands)\n\n  const Authorization = token ? `token ${token}` : 'Basic ZGQtY2VudGVyLWJvdDpkZDBiMmY0MjE4OThmNjAzZGYwNGM0NzdkMzQyNmU5MzE4MWRlZTUy'\n\n  console.log({ Authorization })\n\n  const response = await fetch('https://api.github.com/repos/dd-center/vdb/issues', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization\n    },\n    body: JSON.stringify({ title: 'Change requested from submit.vtbs.moe', body })\n  })\n  const { html_url: url } = await response.json()\n  return url\n})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workspace.vue?vue&type=style&index=0&id=7f50a6a6&scoped=true&lang=css&\""],"sourceRoot":""}